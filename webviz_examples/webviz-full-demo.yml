title: Reek Webviz Example

shared_settings:
  scratch_ensembles:
    sens_run: ../reek_fullmatrix/realization-*/iter-0
    iter-0: ../reek_history_match/realization-*/iter-0
    iter-1: ../reek_history_match/realization-*/iter-1
    iter-2: ../reek_history_match/realization-*/iter-2
    iter-3: ../reek_history_match/realization-*/iter-3

pages:
  - title: Front page
    content:
      - BannerImage:
          image: ./content/reek_image.jpg
          title: Reek FMU Webviz example
      - Markdown:
          markdown_file: ./content/front_page.md

  - title: How was this made?
    content:
      - Markdown:
          markdown_file: ./content/how_was_this_made.md
      - SyntaxHighlighter:
          filename: ./webviz-full-demo.yml
          dark_theme: true

  - title: Structural Uncertainty
    content:
      - StructuralUncertainty:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          surface_attributes:
            - ds_extracted_horizons
          surface_name_filter:
            - topupperreek
            - topmidreek
            - baselowerreek
          # Everything below is optional
          wellfolder: ../observed_data/wells
          zonelog: Zonelog
          initial_settings:
            intersection_data:
              surface_names:
                - topupperreek
                - topmidreek
                - baselowerreek
              surface_attribute: ds_extracted_horizons
              ensembles:
                - iter-0
                - iter-1
              calculation:
                - Mean
                - Min
                - Max
              well: OP_6
              realizations: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
            colors:
              topupperreek:
                iter-0: '#2C82C9'
                iter-1: '#2CC990'
              topmidreek:
                iter-0: '#512E34'
                iter-1: '#7D93C1'
              baselowerreek:
                iter-0: '#EEE657'
                iter-1: '#FC6042'
            intersection_layout:
              yaxis:
                range: [1700, 1550]
                title: True vertical depth [m]
              xaxis:
                title: Lateral distance [m]

  - title: Volumetric Analysis (sensitivity)
    content:
      - VolumetricAnalysis:
          ensembles:
            - sens_run
          volfiles:
            geogrid: geogrid--oil.csv
            simgrid: simgrid--oil.csv

  - title: Volumetric Analysis
    content:
      - VolumetricAnalysis:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          volfiles:
            geogrid: geogrid--oil.csv
            simgrid: simgrid--oil.csv

  - title: Simulation time series (sensitivity)
    content:
      - ReservoirSimulationTimeSeriesOneByOne:
          ensembles:
            - sens_run
          initial_vector: FOPT

  - title: Simulation time series
    content:
      - ReservoirSimulationTimeSeries:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          obsfile: ../reek_history_match/share/observations/observations.yml
          options:
            vector1: WOPR:OP_1
            visualization: statistics

  - title: Well log viewer
    content:
      - WellLogViewer:
          wellfolder: ../observed_data/drogon_wells
          wellsuffix: .rmswell
          well_tvdmin: 1500
          mdlog: MDepth
          logtemplates:
            - all_logs.yml

  - title: Parameter analysis
    content:
      - ParameterAnalysis:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3

  - title: Analysis of grid property statistics
    content:
      - PropertyStatistics:
          ensembles:
            - iter-0
            - iter-3
          surface_renaming:
            Total: all
            PORO: average_poro
            PERM: average_permz
            SW: average_swat--20030101
            UpperReek: upperreek
            MidReek: midreek
            LowerReek: lowerreek

  - title: Regional simulation time series
    content:
      - ReservoirSimulationTimeSeriesRegional:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          fipfile: ../reek_history_match/share/regions/fip.yaml

  - title: Well Completions
    content:
      - WellCompletions:
          ensembles:
            - iter-0

  - title: Correlation between input parameters and inplace volumes
    content:
      - ParameterResponseCorrelation:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          response_file: share/results/volumes/geogrid--oil.csv
          response_filters:
            ZONE: multi
            REGION: multi

  - title: Correlation between input parameters and time series
    content:
      - ParameterResponseCorrelation:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          response_file: share/results/tables/unsmry--monthly.csv
          response_filters:
            DATE: single

  - title: Pairwise correlation between all input parameters
    content:
      - ParameterCorrelation:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3

  - title: Relative permeability
    content:
      - RelativePermeability:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          relpermfile: share/results/tables/relperm.csv
          scalfile: ../reek_history_match/share/scal/scalreek.csv

  - title: Parameter parallel coordinates
    content:
      - ParameterParallelCoordinates:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3

  - title: SEG-Y viewer
    content:
      - SegyViewer:
          segyfiles:
            - ../observed_data/seismic/syntseis_20000101_seismic_depth_stack.segy
            - ../observed_data/seismic/syntseis_20030101_seismic_depth_stack.segy

  - title: Surface with seismic cross-section
    content:
      - SurfaceWithSeismicCrossSection:
          segyfiles:
            - ../observed_data/seismic/syntseis_20000101_seismic_depth_stack.segy
            - ../observed_data/seismic/syntseis_20030101_seismic_depth_stack.segy
          surfacefiles:
            - ../reek_fullmatrix/realization-0/iter-0/share/results/maps/topupperreek--ds_extracted_horizons.gri
            - ../reek_fullmatrix/realization-0/iter-0/share/results/maps/topmidreek--ds_extracted_horizons.gri
            - ../reek_fullmatrix/realization-0/iter-0/share/results/maps/toplowerreek--ds_extracted_horizons.gri
            - ../reek_fullmatrix/realization-0/iter-0/share/results/maps/baselowerreek--ds_extracted_horizons.gri
          surfacenames:
            - Top Upper Reek
            - Top Middle Reek
            - Top Lower Reek
            - Base Lower Reek

  - title: Surface with grid cross-section
    content:
      - SurfaceWithGridCrossSection:
          gridfile: ../reek_history_match/realization-0/iter-0/share/results/grids/geogrid.roff
          gridparameterfiles:
            - ../reek_history_match/realization-0/iter-0/share/results/grids/geogrid--poro.roff
            - ../reek_history_match/realization-0/iter-0/share/results/grids/geogrid--perm.roff
            - ../reek_history_match/realization-0/iter-0/share/results/grids/geogrid--facies.roff
          surfacefiles:
            - ../reek_history_match/realization-0/iter-0/share/results/maps/topupperreek--ds_extracted_horizons.gri
            - ../reek_history_match/realization-0/iter-0/share/results/maps/topmidreek--ds_extracted_horizons.gri
            - ../reek_history_match/realization-0/iter-0/share/results/maps/toplowerreek--ds_extracted_horizons.gri
            - ../reek_history_match/realization-0/iter-0/share/results/maps/baselowerreek--ds_extracted_horizons.gri
          surfacenames:
            - Top Upper Reek
            - Top Middle Reek
            - Top Lower Reek
            - Base Lower Reek

  - title: Running time analysis (FMU)
    content:
      - RunningTimeAnalysisFMU:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3

  - title: RFT plotter
    content:
      - RftPlotter:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          formations: ../reek_history_match/share/results/tables/formations.csv
          faultlines: ../reek_history_match/share/results/polygons/faultpolygons.csv

  - title: PVT
    content:
      - PvtPlot:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
          pvt_relative_file_path: share/results/tables/pvt.csv

  - title: BHP QC
    content:
      - BhpQc:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3

  - title: Assisted History matching parameters update vs observations
    content:
      - AssistedHistoryMatchingAnalysis:
          input_dir: ../reek_history_match/share/output_analysis/scalar_ahm_analysis

  - title: Tornado plotter
    content:
      - TornadoPlotterFMU:
          aggregated_csvfile: ../aggregated_data/volumes.csv
          aggregated_parameterfile: ../aggregated_data/realdata.csv
          initial_response: STOIIP_OIL
          single_value_selectors:
            - SOURCE
          multi_value_selectors:
            - ZONE
            - REGION

  - title: Line plotter
    content:
      - LinePlotterFMU:
          aggregated_csvfile: ../aggregated_data/smry_hm.csv
          observation_file: ../reek_history_match/share/observations/observations.yml
          aggregated_parameterfile: ../aggregated_data/parameters_hm.csv
          observation_group: smry
          remap_observation_values:
            DATE: date
          initial_data:
            x: DATE
            y: FOPR
            ensembles:
              - iter-0
              - iter-3
          colors:
            iter-0: red
            iter-3: blue

  - title: Disk usage
    content:
      - DiskUsage:
          scratch_dir: ../.
          date: 2021-07-09  # Date only necessary if you want an explicit date.

  - title: Surface viewer (FMU)
    content:
      - SurfaceViewerFMU:
          ensembles:
            - iter-0
            - iter-3
          wellfolder: ../observed_data/wells
          attribute_settings:
            stoiip:
              min: 0
              max: 2
              color:
                [
                  "#000004",
                  "#1b0c41",
                  "#4a0c6b",
                  "#781c6d",
                  "#a52c60",
                  "#cf4446",
                  "#ed6925",
                  "#fb9b06",
                  "#f7d13d",
                  "#fcffa4",
                ]

  - title: Parameter distribution
    content:
      - ParameterDistribution:
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3

  - title: Reservoir simulation map
    content:
      - In this example, the horizontal permeability is shown together with oil fluid flow for a given date during simulation.
      - SubsurfaceMap:
          ensemble: iter-0
          map_value: PERMX
          flow_value: FLROIL
          time_step: 2

  - title: History match
    content:
      - HistoryMatch:
          observation_file: ../reek_history_match/share/observations/observations.yml
          ensembles:
            - iter-0
            - iter-1
            - iter-2
            - iter-3
